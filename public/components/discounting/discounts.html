<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">                      
    <title>Discounts</title>
    <meta 
        name="viewport"
        content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="format-detection" content="telephone=no"/>
    <meta name="msapplication-tap-highlight" content="no"/>

    <link rel="icon" type="image/x-icon" href="..\..\assets\icons\favicon.ico">

    <!-- Libs -->
    <link rel="stylesheet" href="..\..\assets\libs\discounts.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    

</head>
<body>
    <div class="search-bar">
        <a href="..\..\pages\homepage.html">
            <img class="logo" src="..\..\assets\icons\logo.png" alt="Logo">
        </a>
        <input type="text" id="search-input" placeholder="Search for...">
        <button id="search-button">Search</button>
    </div>

    <div id="discounts-list" class="discounts-list">
        <h1>List of discounts</h1>

        <div class="remove-all-discounts">
            <button id="remove-all-button">Remove All</button>
        </div>
        
        <ul id="discount-items" class="discount-items">
            <li>
                <span>${discount.code}</span>
                <span>${discount.name}</span>
                <span>${discount.type}</span>
                <span>${discount.rate}%</span>
                <button class="edit-button" data-code="${discount.code}">Edit</button>
                <button class="remove-button" data-code="${discount.code}">Remove</button>
            </li>
        </ul>
    </div>



    <div id="discount-form" class="discount-form hidden">
        <div class="edit-discount-header">
            <h3>Discount Information</h3>
        </div>
        <div class="edit-discount-container">
            <div class="edit-discount-content">
                <form class="objective-data-form">

                    <label for="discount-code">Code:</label>
                    <input type="number" id="discount-code" class="objective-data-input">
                    
                    <label for="discount-name">Name:</label>
                    <input type="text" id="discount-name" class="objective-data-input">

                    <label for="discount-type">Type:</label>
                    <select id="discount-type">
                        <option value="none"> </option>
                        <option value="PERCENTAGE">Percentage</option>
                        <option value="FIXED">Fixed</option>
                        <option value="QUANTITY">Quantity</option>
                    </select>

                    <label for="discount-rate">Rate in %:</label>
                    <input type="number" id="discount-rate" min="1" max="100" class="objective-data-input">

                    <label for="discount-date">Expiration Date:</label>
                    <input type="date" id="discount-date" class="objective-data-input">

                    <label for="discount-description">Description:</label>
                    <textarea id="discount-description" class="objective-data-input"></textarea>                
                    
                    <label for="discount-link">Link:</label>
                    <input type="url" id="discount-link" class="objective-data-input">

                    <div class="button-container">
                        <button type="button" id="cancel-discount">Cancel</button>
                        <button type="button" id="confirm-discount">Add Discount</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div id="discount-edit-form" class="discount-edit-form hidden">
        <div class="edit-discount-header">
            <h3>Discount Information</h3>
        </div>
        <div class="edit-discount-container">
            <div class="edit-discount-content">
                <form class="objective-data-form">

                    <label for="edit-code">Code:</label>
                    <input type="number" id="edit-code" class="objective-data-input">
                    
                    <label for="edit-discount-name">Name:</label>
                    <input type="text" id="edit-name" class="objective-data-input">

                    <label for="edit-discount-type">Type:</label>
                    <select id="edit-type">
                        <option value="none"> </option>
                        <option value="PERCENTAGE">Percentage</option>
                        <option value="FIXED">Fixed</option>
                        <option value="QUANTITY">Quantity</option>
                    </select>
                    
                    <label for="edit-discount-rate">Rate in:</label>
                    <input type="number" id="edit-rate" min="1" max="100" class="objective-data-input">

                    <label for="edit-discount-date">Expiration Date:</label>
                    <input type="date" id="edit-date" class="objective-data-input">

                    <label for="edit-discount-description">Description:</label>
                    <textarea id="edit-description" class="objective-data-input"></textarea>                
                    
                    <label for="edit-discount-link">Link:</label>
                    <input type="url" id="edit-link" class="objective-data-input">                    
        
                    <div class="button-container">
                        <button type="button" id="cancel-edit-button">Cancel</button>
                        <button type="button" id="save-edit-button" class="save-button">Save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Tasto per aprire il menu a tendina -->
    <div id="add-menu" class="add-menu">
        <button class="add-button">+</button>
        <div class="menu-items">
            <button id="add-discount-button" class="menu-item">Add new discount</button>
        </div>
    </div>

    <script>
        // Funzione per mostrare o nascondere il menu a tendina
        function toggleUserMenu() {
            const menu = document.getElementById('add-menu');
            const menuItems = document.querySelector('.menu-items');
            menuItems.style.display = menuItems.style.display === 'none' ? 'block' : 'none';
        }
        
        document.getElementById('add-discount-button').addEventListener('click', toggleUserMenu);
    </script>

        
    <script src="/config.js"></script>
    <script src="discounts.js"></script>
</body>
</html>